<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <title>Creating a Flexible NFT (Part 2) &mdash; archive.kauri.io</title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.8.1/css/all.css">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.8.1/css/v4-shims.css">
    <link rel="stylesheet" href="../../../css/theme.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    <link rel="stylesheet" href="../../../css/extra.css">
    <script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/solidity.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/rust.min.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script> 
</head>

<body ontouchstart="">
    <div id="container">
        <aside>
            <div class="home">
                <div class="title">
                    <button class="hamburger"></button>
                    <a href="../../.." class="site-name"> archive.kauri.io</a>
                </div>
                <div class="search">
                    <div role="search">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
        <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
    </form>
</div>
                </div>
            </div>
            <nav class="nav">
                <ul class="root">
                    <li class="toctree-l1"><a class="nav-item" href="../../..">Home</a></li>
                    <li class="toctree-l1"><button class="section nav-item">Communities</button>
<ul class="subnav">
    <li class="toctree-l2"><button class="section nav-item hide">Getting started with dapp development</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/tips-for-starting-dapp-development/">Tips for Starting Dapp Development</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/an-introduction-to-solidity-for-experienced-devel/">An Introduction to Solidity for Experienced Developers</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/truffle--adding-a-frontend-with-react-box/">Truffle  Adding a frontend with react box</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/truffle--testing-your-smart-contract/">Truffle  Testing your smart contract</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/truffle--smart-contract-compilation-and-deploymen/">Truffle  Smart Contract Compilation & Deployment</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/understanding-smart-contract-compilation-and-depl/">Understanding smart contract compilation and deployment</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/tools-for-dapp-development/">Tools for dApp development</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/full-stack-dapp-tutorial-series-intro/">Full Stack dApp Tutorial Series - Intro</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/erc-721-non-fungible-token-standard/">ERC-721 Non-Fungible Token Standard</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/create-a-%22hello-world%22-fullstack-dapp/">Create a "Hello World" fullstack dapp</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/a-fullstack-dapp-for-creating-tokens/">A fullstack dapp for creating tokens</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/a-fullstack-dapp-for-creating-unique-tradable-tok/">A fullstack dapp for creating unique tradable tokens</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/blockchain-explained/">Blockchain Explained</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/remix-ide-your-first-smart-contract/">Remix IDE - Your first smart contract</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Getting%20started%20with%20dapp%20development/an-introduction-to-smart-contracts-with-solidity/">An Introduction to Smart Contracts with Solidity</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Java Ethereum</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/how-to-test-ethereum-smart-contracts-from-java/">How to test Ethereum smart contracts from Java</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/web3j-transaction-managers/">Web3j Transaction Managers</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/manage-erc20-tokens-in-java-with-web3j/">Manage ERC20 tokens in Java with Web3j</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/running-a-pantheon-node-in-java-integration-tests/">Running a Pantheon Node in Java Integration Tests</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/managing-storage-in-a-java-application-with-ipfs/">Managing storage in a Java application with IPFS</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/using-besu-the-java-ethereum-client-with-linuxmac/">Using Besu, the Java Ethereum Client with Linux/MacOS</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/listening-for-ethereum-smart-contract-events-in-j/">Listening for Ethereum Smart Contract Events in Java</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/interacting-with-an-ethereum-smart-contract-in-ja/">Interacting with an Ethereum Smart Contract in Java</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/generate-a-java-wrapper-from-your-smart-contract/">Generate a Java Wrapper from your Smart Contract</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/manage-an-ethereum-account-with-java-and-web3j/">Manage an Ethereum account with Java and Web3j</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Java%20Ethereum/connecting-to-an-ethereum-client-with-java-eclips/">Connecting to an Ethereum client with Java, Eclipse and Web3j</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Ethereum Node Runners</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Ethereum%20Node%20Runners/run-an-ethereum-node-on-debian-with-an-external-s/">Run an Ethereum node on Debian with an External SSD (Mar 2020)</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Ethereum%20Node%20Runners/ethereum-on-arm.-turn-your-arm-device-into-a-full/">Ethereum on ARM. Turn your ARM device into a full Ethereum node just by flashing a MicroSD card</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Ethereum%20Node%20Runners/make-use-of-your-remote-ethereum-node-using-an-ss/">Make use of your remote Ethereum node using an SSH tunnel and MetaMask</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Ethereum%20Node%20Runners/how-to-install-and-synchronize-your-own-remote-et/">How to install and synchronize your own remote Ethereum node</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Ethereum%20Node%20Runners/how-to-set-up-a-simple-linux-firewall/">How to set up a simple Linux firewall</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Ethereum%20Node%20Runners/supported-hardware-to-run-an-ethereum-node/">Supported hardware to run an Ethereum node</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Ethereum%20Node%20Runners/monitor-your-geth-node-with-google-sheet/">Monitor your Geth node with Google Sheet</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Ethereum%20Node%20Runners/running-an-ethereum-full-node-on-a-raspberrypi-4-/">Running an Ethereum Full Node on a RaspberryPi 4 (model B)</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">IPFS</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/building-a-twitter-bot-using-ipfs-cluster/">Building a Twitter Bot using IPFS Cluster 🤖</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/hands-on-ipld-tutorial-in-golang--part-2/">Hands-on IPLD Tutorial in Golang  PART 2</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/understanding-ipfs-in-depth%2826%29--what-is-interpla/">Understanding IPFS in Depth(2/6)  What is InterPlanetary Linked Data(IPLD)?</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/hands-on-ipld-tutorial-in-golang/">Hands-on IPLD Tutorial in Golang</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/understanding-ipfs-in-depth%2816%29--a-beginner-to-ad/">Understanding IPFS in Depth(1/6)  A Beginner to Advanced Guide</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/orbitdb--serverless-distributed-peer-to-peer-data/">OrbitDB  Serverless, Distributed, Peer-to-Peer Database</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/getting-started-with-mahuta-a-search-engine-for-t/">Getting started with Mahuta - A Search engine for the IPFS</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/peer-to-peer-hypermedia-with-ipfs/">Peer-to-peer hypermedia with IPFS</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/installing-ipfs/">Installing IPFS</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/improving-ipfs-decentralization-introducing-ahken/">Improving IPFS Decentralization - Introducing Ahken</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/IPFS/managing-storage-in-a-java-application-with-ipfs/">Managing storage in a Java application with IPFS</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Documentation and technical communication</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Documentation%20and%20technical%20communication/why-do-people-write/">Why do people write?</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Documentation%20and%20technical%20communication/language-and-understandable-writing/">Language and understandable writing</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Documentation%20and%20technical%20communication/documentation-structure/">Documentation structure</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../../communities/Documentation%20and%20technical%20communication/why-write-documentation/">Why write documentation</a></li>
</ul></li>
</ul></li>
                    <li class="toctree-l1"><button class="section nav-item">Collections</button>
<ul class="subnav">
    <li class="toctree-l2"><button class="section nav-item hide">A Deep Dive Into The Ethereum Virtual Machine (EVM) Series</button>
<ul class="subnav hide">
    <li class="toctree-l3">
<a class="nav-item" href="../../A%20Deep%20Dive%20Into%20The%20Ethereum%20Virtual%20Machine%20%28EVM%29%20Series/a-deep-dive-into-the-ethereum-virtual-machine-%28ev/">A Deep Dive into the Ethereum Virtual Machine (EVM) - part 1  Introduction</a></li>
    <li class="toctree-l3">
<a class="nav-item" href="../../A%20Deep%20Dive%20Into%20The%20Ethereum%20Virtual%20Machine%20%28EVM%29%20Series/a-deep-dive-into-the-ethereum-virtual-machine-%28ev/">A Deep Dive into the Ethereum Virtual Machine (EVM) - part 2  Memory and Storage</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Deep%20Dive%20Into%20The%20Ethereum%20Virtual%20Machine%20%28EVM%29%20Series/a-deep-dive-into-the-ethereum-virtual-machine-%28ev/">A Deep Dive into the Ethereum Virtual Machine (EVM) - Part 3  Execution Model of the EVM</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Deep%20Dive%20Into%20The%20Ethereum%20Virtual%20Machine%20%28EVM%29%20Series/a-deep-dive-into-the-ethereum-virtual-machine-par/">A Deep Dive into the Ethereum Virtual Machine - Part 4  The EVM and High-Level Programming Languages</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Build your very own self-hosting platform with Raspberry Pi and Kubernetes</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../Build%20your%20very%20own%20self-hosting%20platform%20with%20Raspberry%20Pi%20and%20Kubernetes/%2818%29-build-your-very-own-self-hosting-platform-wi/">(1/8) Build your very own self-hosting platform with Raspberry Pi and Kubernetes - Introduction</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Build%20your%20very%20own%20self-hosting%20platform%20with%20Raspberry%20Pi%20and%20Kubernetes/%2828%29-install-raspbian-operating-system-and-prepar/">(2/8) Install Raspbian Operating-System and prepare the system for Kubernetes</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Build%20your%20very%20own%20self-hosting%20platform%20with%20Raspberry%20Pi%20and%20Kubernetes/%2838%29-install-and-configure-a-kubernetes-cluster-w/">(3/8) Install and configure a Kubernetes cluster with k3s to self-host applications</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Build%20your%20very%20own%20self-hosting%20platform%20with%20Raspberry%20Pi%20and%20Kubernetes/%2848%29-deploy-nextcloud-on-kuberbetes--the-self-hos/">(4/8) Deploy NextCloud on Kuberbetes  The self-hosted Dropbox</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Build%20your%20very%20own%20self-hosting%20platform%20with%20Raspberry%20Pi%20and%20Kubernetes/%2858%29-self-host-your-media-center-on-kubernetes-wi/">(5/8) Self-host your Media Center On Kubernetes with Plex, Sonarr, Radarr, Transmission and Jackett</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Build%20your%20very%20own%20self-hosting%20platform%20with%20Raspberry%20Pi%20and%20Kubernetes/%2868%29-self-host-pi-hole-on-kubernetes-and-block-ad/">(6/8) Self-host Pi-Hole on Kubernetes and block ads and trackers at the network level</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Build%20your%20very%20own%20self-hosting%20platform%20with%20Raspberry%20Pi%20and%20Kubernetes/%2878%29-self-host-your-password-manager-with-bitward/">(7/8) Self-host your password manager with Bitwarden</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Build%20your%20very%20own%20self-hosting%20platform%20with%20Raspberry%20Pi%20and%20Kubernetes/%2888%29-deploy-prometheus-and-grafana-to-monitor-a-k/">(8/8) Deploy Prometheus and Grafana to monitor a Kubernetes cluster</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">A Hackathon Survival Guide</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/the-hack%21-what-is-a-hackathon/">The Hack?!? What is a hackathon?</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/create-a-%22hello-world%22-fullstack-dapp/">Create a "Hello World" fullstack dapp</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/full-stack-dapp-tutorial-series-intro/">Full Stack dApp Tutorial Series - Intro</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/ethereum-101-part-1-what-is-ethereum/">Ethereum 101 - Part 1 - What is Ethereum?</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/remix-ide-your-first-smart-contract/">Remix IDE - Your first smart contract</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/interacting-with-an-ethereum-smart-contract-in-ja/">Interacting with an Ethereum Smart Contract in Java</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/a-.net-developer-s-workflow-for-creating-and-call/">A .NET Developer’s Workflow for Creating and Calling Ethereum Smart Contracts</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/sending-ethereum-transactions-with-rust/">Sending Ethereum Transactions with Rust</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/generate-a-java-wrapper-from-your-smart-contract/">Generate a Java Wrapper from your Smart Contract</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/accelerating-dapp-development-with-ethers.js/">Accelerating DApp Development with Ethers.js</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/nethereum-an-open-source-.net-integration-library/">Nethereum - An open source .NET integration library for blockchain</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/creating-a-dapp-in-go-with-geth/">Creating a DApp in Go with Geth</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/tools-for-dapp-development/">Tools for dApp development</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/ethasketch/">EthASketch</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/bountibot--rewarding-github-pull-requests-for-you/">Bountibot  rewarding GitHub Pull Requests for you and the rest of the OSS community</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20Hackathon%20Survival%20Guide/eth-dev-tools/">ETH Dev Tools</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Web3j Cheat Sheet (Java Ethereum)</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../Web3j%20Cheat%20Sheet%20%28Java%20Ethereum%29/retrieving-an-ethereum-account-balance-in-web3j/">Retrieving an Ethereum Account Balance in Web3j</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Web3j%20Cheat%20Sheet%20%28Java%20Ethereum%29/converting-between-ether-units-denominations-in-w/">Converting Between Ether Units / Denominations in Web3j</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Web3j%20Cheat%20Sheet%20%28Java%20Ethereum%29/creating-a-web3j-wallet-from-a-mnemonic-code-%28see/">Creating a Web3j Wallet from a Mnemonic Code (Seed Phrase)</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Web3j%20Cheat%20Sheet%20%28Java%20Ethereum%29/sending-an-ether-transfer-transaction-from-one-ac/">Sending an Ether Transfer Transaction from One Account to Another in Web3j</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Web3j%20Cheat%20Sheet%20%28Java%20Ethereum%29/signing-an-ethereum-transaction-in-web3j/">Signing an Ethereum Transaction in Web3j</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Web3j%20Cheat%20Sheet%20%28Java%20Ethereum%29/signing-data-in-java-and-web3j/">Signing Data in Java and Web3j</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">OpenZeppelin</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../OpenZeppelin/openzeppelin-part-1--introductory/">OpenZeppelin Part 1  Introductory</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../OpenZeppelin/openzeppelin-part-2--access-control/">OpenZeppelin Part 2  Access Control</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../OpenZeppelin/openzeppelin-part-3--token-standards/">OpenZeppelin Part 3  Token Standards</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../OpenZeppelin/openzeppelin-part-4--crowdsales/">OpenZeppelin Part 4  Crowdsales</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">A non practitioner guide to machine learning</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../A%20non%20practitioner%20guide%20to%20machine%20learning%20/getting-started-with-machine-learning-%28non-practi/">Getting Started With Machine Learning (Non practitioner guide)</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20non%20practitioner%20guide%20to%20machine%20learning%20/installing-anaconda-python3-and-tensorflow/">Installing Anaconda, Python3 and Tensorflow</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20non%20practitioner%20guide%20to%20machine%20learning%20/regression-with-python-keras-and-tensorflow/">Regression with Python, Keras and Tensorflow</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20non%20practitioner%20guide%20to%20machine%20learning%20/predict-cryptocurrency-prices-with-tensorflow-as-/">Predict cryptocurrency prices with Tensorflow as binary classification problem</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../A%20non%20practitioner%20guide%20to%20machine%20learning%20/multi-class-classification-example-with-convoluti/">Multi-class classification example with Convolutional Neural Network in Keras and Tensorflow</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">An ethereum test toolkit in Go</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../An%20ethereum%20test%20toolkit%20in%20Go/sending-transactions-on-geth-s-simulated-backend/">Sending Transactions on GETH's Simulated Backend</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../An%20ethereum%20test%20toolkit%20in%20Go/interacting-with-smart-contracts-from-geth-s-simu/">Interacting with smart contracts from GETH's Simulated Backend</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../An%20ethereum%20test%20toolkit%20in%20Go/generating-a-load-of-keys-for-testing-in-go/">Generating a load of keys for testing in Go</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../An%20ethereum%20test%20toolkit%20in%20Go/the-geth-simulated-backend/">The GETH Simulated Backend</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Monitoring Kubernetes with Elastic Stack</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../Monitoring%20Kubernetes%20with%20Elastic%20Stack/%2815%29-getting-started-with-elastic-stack-for-monit/">(1/5) Getting started with Elastic Stack for monitoring on Kubernetes</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Monitoring%20Kubernetes%20with%20Elastic%20Stack/%2825%29-install-elasticsearch-and-kibana-to-store-an/">(2/5) Install ElasticSearch and Kibana to store and visualize monitoring data</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Monitoring%20Kubernetes%20with%20Elastic%20Stack/%2835%29-collect-metrics-with-elastic-metricbeat-for-/">(3/5) Collect metrics with Elastic Metricbeat for monitoring Kubernetes</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Monitoring%20Kubernetes%20with%20Elastic%20Stack/%2845%29-collect-logs-with-elastic-filebeat-for-monit/">(4/5) Collect logs with Elastic Filebeat for monitoring Kubernetes</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Monitoring%20Kubernetes%20with%20Elastic%20Stack/%2855%29-collect-traces-with-elastic-apm-for-monitori/">(5/5) Collect traces with Elastic APM for monitoring Kubernetes</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Founder interviews</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../Founder%20interviews/fluree--blockchain-graphql-and-more-all-in-one-da/">Fluree  Blockchain, GraphQL, and more all in one database</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Founder%20interviews/true-anonymity-privacy-and-snapps-with-simon-harm/">True anonymity, privacy, and SNApps with Simon Harman of Loki</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Founder%20interviews/the-aeternity-blockchain-with-emil-wagner/">The Æternity blockchain with Emil Wagner</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Founder%20interviews/embleema--the-blockchain-that-lets-you-own-your-h/">Embleema  The Blockchain That Lets You Own Your Health Data</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Vyper Full Stack dApp Tutorial Series</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../Vyper%20Full%20Stack%20dApp%20Tutorial%20Series/remix-ide-your-first-vyper-smart-contract/">Remix IDE - Your first Vyper smart contract</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Vyper%20Full%20Stack%20dApp%20Tutorial%20Series/understanding-smart-contract-compilation-and-depl/">Understanding smart contract compilation and deployment</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Vyper%20Full%20Stack%20dApp%20Tutorial%20Series/truffle--smart-contract-compilation-and-deploymen/">Truffle  Smart Contract Compilation & Deployment</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Vyper%20Full%20Stack%20dApp%20Tutorial%20Series/truffle--testing-your-smart-contract/">Truffle  Testing your smart contract</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Vyper%20Full%20Stack%20dApp%20Tutorial%20Series/tools-for-working-with-vyper/">Tools for working with Vyper</a></li>
</ul></li>
    <li class="toctree-l2 current"><button class="section nav-item">Flexible, Upgradeable & Highly Available NFTs</button>
<ul class="subnav">
    <li class="toctree-l3"><a class="nav-item" href="../creating-a-flexible-nft-%28part-1%29/">Creating a Flexible NFT (Part 1)</a></li>
    <li class="toctree-l3 current"><a class="nav-item current" href="./">Creating a Flexible NFT (Part 2)</a>
<ul class="subnav">
<li class="toctree-l4"><a class="nav-item toc" href="#part-2">Part 2</a></li>
</ul></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Libra</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../Libra/building-and-working-with-facebook-s-cryptocurren/">Building and Working with Facebook’s Cryptocurrency Libra</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Libra/whitepaper-deep-dive-move--facebook-libra-blockch/">Whitepaper Deep Dive — Move  Facebook Libra Blockchain’s New Programming Language</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Libra/quick-dive-into-the-move-programming-language/">Quick Dive into the Move Programming Language</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Bitcoin</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../Bitcoin/bitcoin-blockchain-overview/">Bitcoin Blockchain Overview</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Bitcoin/creating-bitcoin-transactions/">Creating Bitcoin Transactions</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Bitcoin/bitcoin-contract-scripts/">Bitcoin Contract Scripts</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Bitcoin/lightning-at-home/">Lightning at Home</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Bitcoin/lnd-overview-and-developer-guide/">LND Overview and Developer Guide</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Getting Started</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/blockchain-explained/">Blockchain Explained</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/an-introduction-to-smart-contracts-with-solidity/">An Introduction to Smart Contracts with Solidity</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/an-introduction-to-smart-contracts-with-vyper/">An Introduction to Smart Contracts with Vyper</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/cute-kitties-and-where-to-find-them-an-introducti/">Cute Kitties and Where to Find Them — An Introduction to Non-Fungible Tokens</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/erc-721-non-fungible-token-standard/">ERC-721 Non-Fungible Token Standard</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/erc-20-token-standard/">ERC-20 Token Standard</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/develop-your-erc-20-token-explained%21/">Develop your ERC-20 Token — explained!</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/gamifying-crypto-assets-with-the-erc998-composabl/">Gamifying Crypto Assets with the ERC998 Composables Token Standard</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/erc-20-and-its-discontents--the-rise-of-comrades-/">ERC-20 and Its Discontents  The Rise of Comrades ERC-777 & ERC-1820</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/creating-a-dapp-in-go-with-geth/">Creating a DApp in Go with Geth</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/smart-contracts-integration-with-nethereum/">Smart contracts integration with Nethereum</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/signing-messages-with-nethereum/">Signing messages with Nethereum</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/managing-nonces-with-nethereum/">Managing nonces with Nethereum</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Getting%20Started/connecting-to-an-ethereum-client-with-java-eclips/">Connecting to an Ethereum client with Java, Eclipse and Web3j</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Privacy</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/introduction-to-cryptography/">Introduction to Cryptography</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/building-on-bulletproofs-short-proofs-for-confide/">Building on Bulletproofs - Short Proofs for Confidential Transactions</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/enigma-protocol/">Enigma Protocol</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/how-to-code-your-own-confidential-token-on-ethere/">How to Code Your Own Confidential Token on Ethereum</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/data-privacy-with-the-nucypher-network/">Data Privacy with the NuCypher Network</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/nucypher-pyumbral/">NuCypher - PyUmbral</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/nightfall-private-token-and-nft-transfers-on-ethe/">Nightfall - Private Token and NFT Transfers on Ethereum</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/privacy-with-pantheon-ethereum-java-client/">Privacy with Pantheon Ethereum Java Client</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/parity-private-transactions/">Parity - Private Transactions</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/introducing-beam%21/">Introducing Beam!</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/a-short-history-of-mimblewimble--from-hogwarts-to/">A Short History of Mimblewimble  From Hogwarts to Mobile Wallets</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/why-beam-is-sound-money/">Why Beam is Sound Money</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/introduction-to-mimblewimble-and-grin/">Introduction to MimbleWimble and Grin</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/a-beginner-s-guide-to-zcash/">A beginner’s guide to Zcash</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Privacy/a-beginner-s-guide-to-monero/">A beginner’s guide to Monero</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">Open Finance (DeFi)</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../Open%20Finance%20%28DeFi%29/kyber-network--on-chain-liquidity-protocol/">Kyber Network  On-chain liquidity protocol</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Open%20Finance%20%28DeFi%29/compound--money-markets-on-ethereum/">Compound  Money markets on Ethereum</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Open%20Finance%20%28DeFi%29/0x--peer-to-peer-exchange-protocol/">0x  Peer-to-peer exchange protocol</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Open%20Finance%20%28DeFi%29/makerdao--decentralized-stablecoin-and-collateral/">MakerDAO  Decentralized stablecoin and collateral loans</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Open%20Finance%20%28DeFi%29/uniswap--protocol-for-automated-token-exchange/">Uniswap  Protocol for automated token exchange</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Open%20Finance%20%28DeFi%29/set-protocol--baskets-of-tokenized-assets/">Set Protocol  Baskets of tokenized assets</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Open%20Finance%20%28DeFi%29/an-introduction-to-bonding-curves/">An Introduction to Bonding Curves</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../Open%20Finance%20%28DeFi%29/incentivizing-high-quality-curation-with-a-token-/">Incentivizing high-quality curation with a Token-Curated Registry</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">DevOps</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../DevOps/lint-your-solidity-contracts-with-solhint/">Lint your Solidity contracts with Solhint</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../DevOps/lint-your-solidity-contracts-with-ethlint/">Lint your Solidity contracts with Ethlint</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../DevOps/truffle--testing-your-smart-contract/">Truffle  Testing your smart contract</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../DevOps/truffle-101-development-tools-for-smart-contracts/">Truffle 101 - Development Tools for Smart Contracts</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../DevOps/analyze-solidity-smart-contracts-with-slither/">Analyze Solidity Smart Contracts with Slither</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">SecureETH</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../SecureETH/system-description-document/">System Description Document</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../SecureETH/secureth-guidelines-getting-started/">SecurEth Guidelines - Getting Started</a></li>
    <li class="toctree-l3"><a class="nav-item" href="../../SecureETH/secureth-guidelines-introduction/">SecurEth Guidelines Introduction</a></li>
</ul></li>
</ul></li>
                </ul>
            </nav>
            <div class="repo">
    <div class="previous"><a href="../creating-a-flexible-nft-%28part-1%29/">&laquo; Previous</a></div>
    <div class="next"><a href="../../Libra/building-and-working-with-facebook-s-cryptocurren/">Next &raquo;</a></div>
</div>
        </aside>
        <div id="spacer"><button class="arrow"></button></div>
        <main>
            <div class="home-top">
                <button class="hamburger"></button>
                <a href="../../.." class="site-name"> archive.kauri.io</a>
            </div>
            <div id="main">
                <nav class="breadcrumbs">
<ul>
    <li>Collections &raquo; </li><li>Flexible, Upgradeable & Highly Available NFTs</li>
</ul>
</nav>
                <div id="content"><h1 id="creating-a-flexible-nft-part-2">Creating a Flexible NFT (Part 2)</h1>
<p><img alt="" src="https://ipfs.infura.io/ipfs/Qmazm9jnanGSzdwMTZgXBSmuD9msrRYGC142zGSsLfJC7F" /></p>
<h2 id="part-2">Part 2</h2>
<h3 id="step-1-make-new-netlify-project">Step 1: Make new netlify project</h3>
<p>We begin Part 2 by creating a web page in the same folder as the rest of our code.</p>
<pre><code class="language-bash">touch ./index.html &amp;&amp; echo &quot;hello world : )&quot; &gt; ./index.html
</code></pre>
<p>Great that's a beautiful website! Let's deploy it to the internet. Create a git repo, commit your code, and push to the origin:</p>
<pre><code class="language-bash">git add . &amp;&amp; git commit -m 'new website' &amp;&amp; git push -u origin master
</code></pre>
<p>I use <a href="https://www.netlify.com">netlify</a> for hosting because they have an all in one package for deploying sites from repositories, running a build process, adding SSL for custom domains and the ability to add lambda functions. They also have authentication and form handling, but I've never used those features. You could use AWS or Google firebase. Go to <a href="https://netlify.com">netlify.com</a>and register using your github/gitlab/bitbucket account.</p>
<p>We're creating an API endpoint that returns the metadata for our NFT. I know what you're thinking, "isn't this an evil centralized solution??". Yes it is. Why? Because the alternative still sucks. Until we live in a world where I can expect my IPFS file to persist after I stop seeding it, and where I don't have to wait forever for the content, we have to use the current Internet infrastructure. If you look at any successful NFT project, they're doing the same thing. The biggest NFT marketplace, <a href="https://opensea.io">opensea.io</a>, caches all the NFT data they can find and serves it directly. This is because it's better than relying on decentralized solutions at this point. When the decentralized solutions are viable, then our NFT will have an upgradeable metadata endpoint!</p>
<p><img alt="" src="https://www.dropbox.com/s/80bg2jgcss87bro/Screenshot%202018-12-13%2018.21.08.png?dl=1" /></p>
<p>Back to netlify, we allow them to have API access to our repo so that they can deploy changes.</p>
<p><img alt="" src="https://www.dropbox.com/s/btla7vp13mwxubo/Screenshot%202018-12-13%2018.21.43.png?dl=1" /></p>
<p>Find our repo and select it.</p>
<p><img alt="" src="https://www.dropbox.com/s/cuzf1hvikmof4ac/Screenshot%202018-12-13%2018.22.03.png?dl=1" /></p>
<p>We don't need to add a build command or a publish directory because our website is just one <em>index.html</em> file and it's in the project root. You are probably already on <code>master</code> branch so that won't need to change (although netlify can auto-deploy each branch on a new domain if you want it to). Next click "Deploy site".</p>
<p><img alt="" src="https://www.dropbox.com/s/bllkimg96en9fie/Screenshot%202018-12-13%2018.23.16.png?dl=1" /></p>
<p>If you want to change your site name from the auto generated name, click <em>Site settings</em> and scroll down to <em>Change site name</em>. I changed mine to "block-workshop" which makes it available at <a href="https://block-workshop.netlify.com">https://block-workshop.netlify.com</a> once the deploy process has completed.</p>
<p>If everything went well you should see this beautiful website:</p>
<p><img alt="" src="https://www.dropbox.com/s/0hwnvr2a1c7imfg/Screenshot%202018-12-13%2018.29.16.png?dl=1" /></p>
<h3 id="step-2-install-netlify-lambda">Step 2: Install netlify lambda</h3>
<p>Install <code>netlify-lambda</code> as a dev dependency so we can access it with <code>npx</code>. This is a utility for building the lambda function and serving it locally so you can test functions before deploying them.</p>
<pre><code class="language-bash">yarn add netlify-lambda -D
## or
npm install netlify-lambda --save-dev
</code></pre>
<p>Add a directory where your lambda functions live. Call it <em>lambda</em> as that makes sense.</p>
<pre><code class="language-bash">mkdir lambda
</code></pre>
<p>Create a configuration <em>.toml</em> file for netlify to define where our functions are served from:</p>
<pre><code class="language-bash">touch netlify.toml
</code></pre>
<p>Now add the key <code>functions</code> to the toml file which is where the functions are served from after the <code>netlify-lambda</code> builds them:</p>
<pre><code class="language-toml">[build]
  functions = &quot;functions&quot;
</code></pre>
<p>Create a dummy function in the <em>lambda</em> folder:</p>
<pre><code class="language-bash">touch ./lambda/helloworld.js
</code></pre>
<p>Add the boilerplate that netlify provides from their docs:</p>
<pre><code class="language-javascript">exports.handler = function(event, context, callback) {
  callback(null, {
    statusCode: 200,
    body: &quot;Hello, World&quot;
  });
};
</code></pre>
<p>The file exports a function called <code>handler</code>. This is the same format that AWS uses for their lambda functions (because netlify is a wrapper around AWS). If you have a lambda function you've used with AWS, you can use it with netlify, and if you have any advanced trouble shooting requests regarding these functions, add "AWS" to your query and not "netlify".</p>
<p>Run a local server so we can test the endpoint using the <code>netlify-lambda</code> utility:</p>
<pre><code class="language-bash">$ npx netlify-lambda serve lambda
netlify-lambda: Starting server
Lambda server is listening on 9000
Hash: 47a70dc1b032c7c81a89
Version: webpack 4.27.1
Time: 745ms
Built at: 2018-12-13 18:52:53
        Asset      Size  Chunks             Chunk Names
helloworld.js  1.03 KiB       0  [emitted]  helloworld
Entrypoint helloworld = helloworld.js
[0] ./helloworld.js 129 bytes {0} [built]
</code></pre>
<p>This builds a new <em>functions</em> folder where the <em>helloworld.js</em> file is compiled and served from. It's accessible from port <code>9000</code> by default and is accessible at <code>http://localhost:9000/helloworld</code></p>
<p><img alt="" src="https://www.dropbox.com/s/6jk666r53q91u26/Screenshot%202018-12-13%2018.56.41.png?dl=1" /></p>
<p>Commit your code and push to your repo. Netlify should notice the push to <code>master</code> and auto-deploy it.</p>
<pre><code class="language-bash">git add . &amp;&amp; git commit -m 'Step 2: Install netlify lambda' &amp;&amp; git push
</code></pre>
<p>You now have access to a <em>functions</em> section on netlify where you have one <code>helloworld</code> function</p>
<p><img alt="" src="https://www.dropbox.com/s/4uq2rsx60c5qrc4/Screenshot%202018-12-13%2019.02.26.png?dl=1" /></p>
<p>When the deploy finishes you should be able to access it at <a href="https://{SITE_NAME}.netlify.com/.netlify/functions/helloworld">https://{SITE_NAME}.netlify.com/.netlify/functions/helloworld</a></p>
<p>This is the deployed format for the functions so that there aren't any name conflicts with your current routing. This is inconvenient syntax though, we'll add proxy rules to the metadata endpoint in a later step.</p>
<h3 id="step-3-add-metadata">Step 3:  Add Metadata</h3>
<p>Now that we've created a dummy endpoint, let's make one that's more useful. Create a new file in your <em>lambda</em> directory called <em>metadata.js</em> and fill it with the same hello world code from before. (Or duplicate the <em>helloworld.js</em> file):</p>
<pre><code class="language-bash">cp ./lambda/helloworld.js ./lambda/metadata.js
</code></pre>
<p>Now take a moment to read the <em>helloworld.js</em> file:</p>
<pre><code class="language-javascript">exports.handler = function(event, context, callback) {
  callback(null, {
    statusCode: 200,
    body: &quot;Hello, World&quot;
  });
};
</code></pre>
<p>The handler function takes 3 parameters:</p>
<ul>
<li><code>event</code> which is the event that triggers the function</li>
<li><code>context</code> which is the context of the event</li>
<li><code>callback</code> which ends the request and fills it with content and header information.</li>
</ul>
<p>We handle requests for our token metadata that follows the format we built into our <em>Metadata.sol</em> contract. That means it's a <code>GET</code> request with the token ID built into the route of the URL, like <code>https://domain.com/metadata/{tokenId}</code>. To pass <code>GET</code> parameters we use a format like <code>https://domain.com/metadata?tokenId={tokenId}</code>. We could define our <code>tokenURI</code> to follow a format like this, but that's ugly.</p>
<p>Let's work with this format for now and improve it later. We log the event to see if we can find the <code>tokenId</code> parameter passed to the URL. This is easier to do in our local setup so follow the URL pattern <code>http://localhost:9000/metadata?tokenId=666</code></p>
<p>Add some <code>console.log</code>s to the <em>metadata.js</em> handler function so we can read what's going on in those parameters:</p>
<pre><code class="language-javascript">exports.handler = function(event, context, callback) {
  console.log(&quot;EVENT&quot;, event)
  console.log(&quot;CONTEXT&quot;, context)
  callback(null, {
    statusCode: 200,
    body: &quot;Hello, World&quot;
  });
};
</code></pre>
<p>Restart the <code>netlify-lambda</code> utility (if it's still running) and visit the URL:</p>
<pre><code class="language-bash">npx netlify-lambda serve lambda
</code></pre>
<p>If you check the console running the server you see the contents of <code>event</code> and <code>context</code>, and the <code>tokenId</code> under <code>queryStringParameters</code>:</p>
<pre><code class="language-bash">$ npx netlify-lambda serve lambda
netlify-lambda: Starting server
Lambda server is listening on 9000
Hash: 6507b49ec95292f0e68a
Version: webpack 4.27.1
Time: 665ms
Built at: 2018-12-13 19:18:56
        Asset      Size  Chunks             Chunk Names
helloworld.js  1.03 KiB       0  [emitted]  helloworld
  metadata.js  1.08 KiB       1  [emitted]  metadata
Entrypoint helloworld = helloworld.js
Entrypoint metadata = metadata.js
[0] ./helloworld.js 129 bytes {0} [built]
[1] ./metadata.js 195 bytes {1} [built]
Request from ::1: GET /metadata?tokenId=666
EVENT { path: '/metadata',
  httpMethod: 'GET',
  queryStringParameters: { tokenId: '666' },
  headers:
   { host: 'localhost:9000',
     connection: 'keep-alive',
     'cache-control': 'max-age=0',
     'upgrade-insecure-requests': '1',
     'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36',
     accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
     'accept-encoding': 'gzip, deflate, br',
     'accept-language': 'en-US,en;q=0.9' },
  body: 'W29iamVjdCBPYmplY3Rd',
  isBase64Encoded: true }
CONTEXT {}
Response with status 200 in 8 ms.
</code></pre>
<p>To be compliant with EIP-721 and EIP-1047, the Token Metadata JSON Schema should follow the following format:</p>
<pre><code class="language-json">{
    &quot;title&quot;: &quot;Asset Metadata&quot;,
    &quot;type&quot;: &quot;object&quot;,
    &quot;properties&quot;: {
        &quot;name&quot;: {
            &quot;type&quot;: &quot;string&quot;,
            &quot;description&quot;: &quot;Identifies the asset to which this token represents&quot;,
        },
        &quot;description&quot;: {
            &quot;type&quot;: &quot;string&quot;,
            &quot;description&quot;: &quot;Describes the asset to which this token represents&quot;,
        },
        &quot;image&quot;: {
            &quot;type&quot;: &quot;string&quot;,
            &quot;description&quot;: &quot;A URI pointing to a resource with mime type image/* representing the asset to which this token represents. Consider making any images at a width between 320 and 1080 pixels and aspect ratio between 1.91:1 and 4:5 inclusive.&quot;,
        }
    }
}
</code></pre>
<p>Lets try returning this, but replace the name with the <code>tokenId</code>, and return an autogenerated image, for example <code>https://dummyimage.com/600x400/000000/fff/&amp;text=test%20image</code>.</p>
<p><img alt="" src="https://dummyimage.com/600x400/000000/fff/&amp;text=test%20image" /></p>
<pre><code class="language-javascript">const tokenId = event.queryStringParameters.tokenId
const metadata =  {
    &quot;name&quot;: &quot;Token #&quot; + tokenId,
    &quot;description&quot;: &quot;Describes the asset to which this token represents&quot;,
    &quot;image&quot;: &quot;https://dummyimage.com/600x400/000000/fff/&amp;text=token%20&quot; + tokenId,
}
</code></pre>
<p>Return it in the <code>callback</code> function, and stringify the JSON object before returning it:</p>
<pre><code class="language-javascript">callback(null, {
    statusCode: 200,
    body: JSON.stringify(metadata)
});
</code></pre>
<p>When we check our endpoint (and if you have a JSON prettier browser extension) it returns this:</p>
<p><img alt="" src="https://www.dropbox.com/s/rwkf098pt2lug1l/Screenshot%202018-12-13%2019.40.31.png?dl=1" /></p>
<h3 id="step-4-add-proxy-routing">Step 4: Add proxy routing</h3>
<p>On netlify we still use the inconvenient URL format, <code>/.netlify/functions/metadata?tokenId=666</code>, to see the new endpoint. Open the <em>netlify.toml</em> file and add some re-write rules so that we can transform a pretty URL like <code>/metadata/666</code> into something that our lambda function understands like <code>/.netlify/functions/metadata?tokenId=666</code>:</p>
<pre><code class="language-toml">[build]
  functions = &quot;functions&quot;

[[redirects]]
  from = &quot;/metadata/:tokenId&quot;
  to = &quot;/.netlify/functions/metadata?tokenId=:tokenId&quot;
  status = 200
</code></pre>
<p>This redirects queries from <code>/metadata</code> to whatever is at the location <code>/.netlify/functions/metadata</code>. The <code>:tokenId</code> placeholder designates that the value should carry over to the same location in the other url. The status it should returns in the header is <code>200</code> which means success.</p>
<h3 id="step-5-add-openseaio">Step 5: Add opensea.io</h3>
<p>To make sure our metadata shows up on sites like opensea we want to serve a format the service understands. The <a href="https://docs.opensea.io">Opensea docs</a> say they expect metadata that adheres to the following example:</p>
<pre><code class="language-json">{
  &quot;description&quot;: &quot;Friendly OpenSea Creature that enjoys long swims in the ocean.&quot;,
  &quot;external_url&quot;: &quot;https://openseacreatures.io/3&quot;,
  &quot;image&quot;: &quot;https://storage.googleapis.com/opensea-prod.appspot.com/puffs/3.png&quot;,
  &quot;name&quot;: &quot;Dave Starbelly&quot;,
  &quot;attributes&quot;: [ ... ],
}
</code></pre>
<p>With an additional <code>attributes</code> key that you can populate like:</p>
<pre><code class="language-json">{
&quot;attributes&quot;: [
    {
      &quot;trait_type&quot;: &quot;base&quot;,
      &quot;value&quot;: &quot;starfish&quot;
    },
    {
      &quot;trait_type&quot;: &quot;eyes&quot;,
      &quot;value&quot;: &quot;big&quot;
    },
    {
      &quot;trait_type&quot;: &quot;mouth&quot;,
      &quot;value&quot;: &quot;surprised&quot;
    },
    {
      &quot;trait_type&quot;: &quot;level&quot;,
      &quot;value&quot;: 5
    },
    {
      &quot;trait_type&quot;: &quot;stamina&quot;,
      &quot;value&quot;: 1.4
    },
    {
      &quot;trait_type&quot;: &quot;personality&quot;,
      &quot;value&quot;: &quot;sad&quot;
    },
    {
      &quot;display_type&quot;: &quot;boost_number&quot;,
      &quot;trait_type&quot;: &quot;aqua_power&quot;,
      &quot;value&quot;: 40
    },
    {
      &quot;display_type&quot;: &quot;boost_percentage&quot;,
      &quot;trait_type&quot;: &quot;stamina_increase&quot;,
      &quot;value&quot;: 10
    },
    {
      &quot;display_type&quot;: &quot;number&quot;,
      &quot;trait_type&quot;: &quot;generation&quot;,
      &quot;value&quot;: 2
    }
  ]
}
</code></pre>
<p>Add some attributes to our endpoint. Maybe our <code>tokenId</code> could reflect a zodiac sign:</p>
<pre><code class="language-javascript">exports.handler = function(event, context, callback) {
  const tokenId = event.queryStringParameters.tokenId
  const metadata =  {
    &quot;name&quot;: &quot;Token #&quot; + tokenId,
    &quot;external_url&quot;: &quot;https://block-workshop.netlify.com/&quot;,
    &quot;description&quot;: &quot;This is a very basic NFT with token Id #&quot; + tokenId,
    &quot;image&quot;: &quot;https://dummyimage.com/600x400/000000/fff/&amp;text=token%20&quot; + tokenId,
    &quot;attributes&quot;: [
      {
        &quot;trait_type&quot;: &quot;zodiac&quot;,
        &quot;value&quot;: returnZodiac(tokenId)
      }
    ]
  }
  callback(null, {
    statusCode: 200,
    body: JSON.stringify(metadata)
  });
};
function returnZodiac(tokenId) {
  const month = ((tokenId - 1) % 12) + 1
  switch(month) {
    case(1):
      return 'Capricorn'
    case(2):
      return 'Aquarius'
    case(3):
      return 'Pisces'
    case(4):
      return 'Aries'
    case(5):
      return 'Taurus'
    case(6):
      return 'Gemini'
    case(7):
      return 'Cancer'
    case(8):
      return 'Leo'
    case(9):
      return 'Virgo'
    case(10):
      return 'Libra'
    case(11):
      return 'Scorpio'
    case(12):
      return 'Sagittarius'
  }
}
</code></pre>
<h3 id="step-6-add-rarebits">Step 6: Add rarebits</h3>
<p>Another popular NFT marketplace is <a href="https://rarebits.io/">rarebits</a>. Let's adhere to their format as well:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;Robot token #14&quot;,
  &quot;image_url&quot;: &quot;https://www.robotgame.com/images/14.png&quot;,
  &quot;home_url&quot;: &quot;https://www.robotgame.com/robots/14.html&quot;,
  &quot;description&quot;: &quot;This is the amazing Robot #14, please buy me!&quot;,
  &quot;properties&quot;: [
    {&quot;key&quot;: &quot;generation&quot;, &quot;value&quot;: 4, type: &quot;integer&quot;},
    {&quot;key&quot;: &quot;cooldown&quot;, &quot;value&quot;: &quot;slow&quot;, type: &quot;string&quot;}
  ],
  &quot;tags&quot;: [&quot;red&quot;,&quot;rare&quot;,&quot;fire&quot;]
}
</code></pre>
<p>What do you know! It follows it's own spec! You can now see why it's important to maintain flexibility around your metadata endpoint. Until we live in a world that has settled on a standard that everyone uses and isn't hosted on a lambda function on netlify.</p>
<p>Add info to our token so it adheres to rarebits as well:</p>
<pre><code class="language-javascript">exports.handler = function(event, context, callback) {
  const tokenId = event.queryStringParameters.tokenId
  const metadata =  {

    // both opensea and rarebits
    &quot;name&quot;: &quot;Token #&quot; + tokenId,
    &quot;description&quot;: &quot;This is a basic NFT with token Id #&quot; + tokenId,

    // opensea
    &quot;external_url&quot;: &quot;https://block-workshop.netlify.com/&quot;,
    // rarebits
    &quot;home_url&quot;: &quot;https://block-workshop.netlify.com/&quot;,

    // opensea
    &quot;image&quot;: &quot;https://dummyimage.com/600x400/000/fff/&amp;text=token%20&quot; + tokenId,
    // rarebits
    &quot;image_url&quot;: &quot;https://dummyimage.com/600x400/000/fff/&amp;text=token%20&quot; + tokenId,

    // opensea
    &quot;attributes&quot;: [
      {
        &quot;trait_type&quot;: &quot;zodiac&quot;,
        &quot;value&quot;: returnZodiac(tokenId)
      }
    ],
    // rarebits
    &quot;properties&quot;: [
      {&quot;key&quot;: &quot;zodiac&quot;, &quot;value&quot;: returnZodiac(tokenId), type: &quot;string&quot;},
    ],

    // rarebits
    &quot;tags&quot;: [&quot;cool&quot;,&quot;hot&quot;,&quot;mild&quot;]
  }
  callback(null, {
    statusCode: 200,
    body: JSON.stringify(metadata)
  });
};
</code></pre>
<p>Now we have a fat json object returned.</p>
<p><img alt="" src="https://www.dropbox.com/s/evfhgwhs4t6ij60/Screenshot%202018-12-13%2020.44.16.png?dl=1" /></p>
<h3 id="step-7-re-deploy-and-mint-a-token">Step 7: Re-deploy and mint a token</h3>
<p>Now we have a metadata API endpoint and we don't have to do anything to service it. We even have a minified website and seeded across a Content Delivery Network. All we're missing is our Token.</p>
<p>When we deployed our Token we used a metadata endpoint that returned <code>https://domain.com/metadata/{tokenId}</code>, but <code>domain.com</code> isn't our domain! We have to update our metadata endpoint.</p>
<p>Thankfully we built in that ability, and a migration. Inside the <em>Metadata.sol</em> contract update the URI with our netlify subdomain:</p>
<pre><code>function tokenURI(uint _tokenId) public pure returns (string memory _infoUrl) {
    string memory base = &quot;https://block-workshop.netlify.com/metadata/&quot;;
    string memory id = uint2str(_tokenId);
    return base.toSlice().concat(id.toSlice());
}
</code></pre>
<p>Run the migration so that only the metadata is replaced, and updated inside of the contract:</p>
<pre><code class="language-bash">$ truffle migrate --network rinkeby -f 3 --to 3

...

Using network 'rinkeby'.

Running migration: 3_update_metadata.js
  Running step...
  Replacing Metadata...
  ... 0xe596fcf7f20073988c4c57167d19a529b086ddd978ce386bf66485a97f3ad2d9
  Metadata: 0xfb66019e647cec020cf5d1277c81ad463e4574a4
        Metadata deployed at: 0xfb66019e647cec020cf5d1277c81ad463e4574a4
        Token deployed at: 0x1170a2c7d4913d399f74ee5270ac65730ff961bf
  ... 0xc3316fa072e84038ee30c360bc70cdc4107d3fcb74780e33e34b0e117e1534aa
Saving successful migration to network...
  ... 0x416630f6fad98eef2f065014c55ac8b43901ef804435b92d4d02f804a7d4c242
Saving artifacts...
</code></pre>
<p>Return to our etherscan certified token and mint our first token. You should see that our <code>updateMetadata</code> transaction is listed there now.</p>
<p><img alt="" src="https://www.dropbox.com/s/tv756wlfbj5tt3o/Screenshot%202018-12-13%2020.54.35.png?dl=1" /></p>
<p>Since I'm using a metamask account that is the same as my deploy account, I have permission to mint a token. Open the <em>write contract</em> tab, authenticate with metamask, and mint a token.</p>
<p><img alt="" src="https://www.dropbox.com/s/n5h7wg9khhqwzi4/Screenshot%202018-12-13%2020.56.00.png?dl=1" /></p>
<p>Since I added my own address as the recipient, I should be the proud owner of token #1. I can check using the token view of etherscan we saw before.</p>
<p><img alt="" src="https://www.dropbox.com/s/1zm2l8b1n9mt6bs/Screenshot%202018-12-13%2020.57.28.png?dl=1" /></p>
<p>Wow, there's a token!</p>
<p>Open opensea and see if they've noticed that we exist. With rarebits and opensea you have to request that they track your token before it shows up in the sidebar, but you can skip that by hard coding the contract address in to the URL. Knowing our token address is at <code>0x1170a2c7d4913d399f74ee5270ac65730ff961bf</code> and our <code>tokenId</code> is <code>1</code> we are able to visit the rinkeby version of the URL like this:</p>
<p><a href="https://rinkeby.opensea.io/assets/0x1170a2c7d4913d399f74ee5270ac65730ff961bf/1">https://rinkeby.opensea.io/assets/0x1170a2c7d4913d399f74ee5270ac65730ff961bf/1</a></p>
<p><img alt="" src="https://www.dropbox.com/s/k6djvdkyms1bctk/Screenshot%202018-12-13%2021.00.28.png?dl=1" /></p>
<p>WOW, they even know our token's zodiac sign!</p>
<p><img alt="" src="https://www.dropbox.com/s/b78ltttja9hbjo2/Screenshot%202018-12-13%2021.01.17.png?dl=1" /></p>
<p>Add it to the app officially and we can see it in the rinkeby section.</p>
<p><img alt="" src="https://www.dropbox.com/s/w4wg6u8w9b3rae7/Screenshot%202018-12-13%2021.08.22.png?dl=1" /></p>
<p><img alt="" src="https://www.dropbox.com/s/mgm9r9dyhohd72j/Screenshot%202018-12-13%2021.09.05.png?dl=1" /></p>
<p><img alt="" src="https://www.dropbox.com/s/xa4000qhg4cl4zr/Screenshot%202018-12-13%2021.09.23.png?dl=1" /></p>
<p>And we're up!</p>
<p><img alt="" src="https://www.dropbox.com/s/ofzn8w59ozf26of/Screenshot%202018-12-13%2021.10.54.png?dl=1" /></p>
<p>Let's add it to rarebits too.</p>
<p><img alt="" src="https://www.dropbox.com/s/9v0cjc0jvweo6ug/Screenshot%202018-12-13%2021.06.14.png?dl=1" /></p>
<p><img alt="" src="https://www.dropbox.com/s/np167hbcy8p53ht/Screenshot%202018-12-13%2021.11.54.png?dl=1" /></p>
<h3 id="next-steps">Next Steps</h3>
<ul>
<li>Make a more interesting generative image<ul>
<li>One example is the cloudinary's hue rotate used by ENSNifty.com (<a href="https://github.com/ENS-Nifty/ens-nifty-frontend/blob/master/functions/metadata.js#L73">github link</a>)</li>
</ul>
</li>
<li>Add a database to your lambda function for richer metadata<ul>
<li><strong>Bonus</strong>: Get in a fight on Twitter about the meaning of true decentralization!</li>
</ul>
</li>
</ul>
<hr />
<ul>
<li><strong>Kauri original title:</strong> Creating a Flexible NFT (Part 2)</li>
<li><strong>Kauri original link:</strong> https://kauri.io/creating-a-flexible-nft-part-2/85f570393e1448a7a94e2eab1bae6e48/a</li>
<li><strong>Kauri original author:</strong> Billy Rennekamp (@okwme)</li>
<li><strong>Kauri original Publication date:</strong> 2019-06-25</li>
<li><strong>Kauri original tags:</strong> netlify, metadata, lambda, upgradeable, serverless, truffle, nft</li>
<li><strong>Kauri original hash:</strong> QmNb1HJkCDQdCZmAmXWhJ7apfFHWeiJyamvLze7n4WEcFz</li>
<li><strong>Kauri original checkpoint:</strong> QmUP9qZg9vxiTYmDyCRfVzpyYLQbtd6r3GAM7CyqCFhShv</li>
</ul></div>
                <footer>
    <div class="footer-buttons">
        <div class="previous"><a href="../creating-a-flexible-nft-%28part-1%29/" title="Creating a Flexible NFT (Part 1)"><span>Previous</span></a></div>
        <div class="next"><a href="../../Libra/building-and-working-with-facebook-s-cryptocurren/" title="Building and Working with Facebook’s Cryptocurrency Libra"><span>Next</span></a></div>
    </div>
    <div class="footer-note">
        <p>
            Built with <a href="http://www.mkdocs.org">MkDocs</a> using
            <a href="https://github.com/daizutabi/mkdocs-ivory">Ivory theme</a>.
        </p>
    </div>
</footer>
            </div>
        </main>
    </div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme.js"></script>
    <script src="../../../search/main.js"></script>
</body>

</html>