{"tags":["tutorial","truffle","solidity"],"id":"cbc38bf09088426fbefcbe7d42ac679f_6","article_id":"cbc38bf09088426fbefcbe7d42ac679f","article_version":6,"title":"Truffle: Smart Contract Compilation & Deployment","content":"{\"markdown\":\"##Intro\\n\\nEarlier in the series, we took a look at how to manually deploy and interact with our Bounties.sol smart contract on a local development blockchain.\\n\\nWe also briefly touched on development frameworks which hide the complexity of these repetitive tasks and allow us to focus on developing dApps.\\n\\nThis article will walk through the steps required to setup Truffle and use it to compile, deploy and interact with our Bounties.sol smart contract. You should see that this is a much easier process than the manual steps we learned in the previous article.\\n\\n[The source code used in this tutorial can be found here] (https://github.com/kauri-io/kauri-fullstack-dapp-tutorial-series/tree/master/truffle-compilation-and-deploy)\\n\\n## What is Truffle?\\n\\nJust to recap, Truffle is a Node based development framework which is currently the most used and actively maintained in the space.\\n\\n[https://truffleframework.com](https://truffleframework.com)\\n\\n[Documentation] (https://truffleframework.com/docs)\\n\\n**Installing Truffle**\\n\\nYou will need to have NodeJS 11.0+ installed\\n```\\nnpm install -g truffle\\n```\\nRead more on [installing truffle here] (https://truffleframework.com/docs/truffle/getting-started/installation)\\n\\n## Solc Compiler\\n\\nWhen compiling our smart contracts truffle uses the solc compiler, earlier in the series we learnt have to install the solc compiler and compile our smart contract manually. However, Truffle already comes prepackaged with a version of the solc compiler:\\n```\\n$ truffle version\\nTruffle v5.0.0-beta.2 (core: 5.0.0-beta.2)\\nSolidity v0.5.0 (solc-js)\\nNode v11.4.0\\n```\\nAbove we see truffle version v5.0.0-beta.2 comes packaged with solc compiler v0.5.0.\\n\\n## Creating a Truffle Project\\n\\nTo use most Truffle commands, you need to run them against an existing Truffle project. So the first step is to create a Truffle project:\\n```\\n$ mkdir dapp-series-bounties\\n$ cd dapp-series-bounties\\n$ truffle init\\nDownloading...\\nUnpacking...\\nSetting up...\\nUnbox successful. Sweet!\\n\\nCommands:\\n\\n  Compile:        truffle compile\\n  Migrate:        truffle migrate\\n  Test contracts: truffle test\\n```\\nThe **truffle init** command sets up a truffle project with the standard project directory structure:\\n\\n![](https://api.beta.kauri.io:443/ipfs/QmZkbLeZiw7CNh9VFg2cLXhRuM1MYrg5whCnGmXHr5ZHVV)\\n\\n* **contracts/**: store original codes of the smart contract. We will place our Bounties.sol file here.\\n* **migrations/**: instructions for deploying the smart contract(s) in the “contracts” folder.\\n* **test/**: tests for your smart contract(s), truffle supports tests written in both Javascript and Solidity, well learn about writing tests in the next article\\n* **truffle.js**: configuration file.\\n* **truffle-config.js**: configuration document for windows user.\\n\\n*Note For Windows Users: The **truffle.js** configuration file will not appear. Whenever **truffle.js** is updated in the tutorial, apply it to the **truffle-config.js** file instead. \\n\\nNow let's create a Bounties.sol file in the contracts folder and copy the contents of [Bounties.sol] (https://github.com/kauri-io/kauri-fullstack-dapp-tutorial-series/blob/master/remix-bounties-smartcontract/Bounties-complete.sol) which we previously developed.\\n\\n![](https://api.beta.kauri.io:443/ipfs/QmW2Rv8J5EP5eEDbxtp5LKCyskM8CXmMZ3WRYNBRoikpqB)\\n\\n## Compile\\n\\nWe’re now ready to compile our smart contract.\\n```\\n$truffle compile\\nCompiling ./contracts/Bounties.sol...\\nCompiling ./contracts/Migrations.sol...\\nWriting artifacts to ./build/contracts\\n```\\nThat's it! The 2 smart contracts in the **contracts** folder:\\n\\n* Bounties.sol\\n* Migrations.sol\\n\\nWe’re both compiled and the artifacts were written to *./build/contracts*\\n\\n![](https://api.beta.kauri.io:443/ipfs/QmTApNdhmZ7wxd2HwvZN9ynHcjFuqXhUkuTBF8y5NmwqNL)\\n\\nIf you review the **Bounties.json** file, you will find it is similar to the output we got when we manually compiled our Bounties.sol smart contract the previous article. It stores the ABI and also the bytecode for deployment and linking, however, this truffle artifact contains additional features that make interacting with and deploying smart contracts using truffle a smoother experience. You can read more about the [truffle-artifactor here.](https://github.com/trufflesuite/truffle/tree/develop/packages/truffle-artifactor)\\n\\n## Deployment\\n\\n**Development Blockchain: Ganache-CLI**\\n\\nIn order to deploy our smart contracts, we’re going to need an Ethereum environment to deploy to. For this, we will use Ganache-CLI to run a local development environment.\\n\\n**Installing Ganache-CLI**\\n\\nNOTE: If you have a windows machine you will need to install the windows developer tools first\\n\\n```\\nnpm install -g windows-build-tools\\n```\\n```\\nnpm install -g ganache-cli\\n```\\nSo let's start our local development blockchain environment:\\n```\\n$ ganache-cli\\nGanache CLI v6.1.3 (ganache-core: 2.1.2)\\nAvailable Accounts\\n==================\\n(0) 0x11541c020ab6d85cb46124e1754790319f6d8c75\\n(1) 0xc44914b445ced4d36f7974ec9b07545c6b39d58d\\n(2) 0x443078060573a942bbf61dcdae9c711c9e0f3426\\n(3) 0x509fc43d6b95b570d31bd1e76b57046131e815ab\\n(4) 0xaf3464e80e8981e868907e39df4db9116518b0b8\\n(5) 0x9894e6253606ee0ce9e0f32ae98cacf9cedc580c\\n(6) 0x8dc4480b3d868bbeb6caf7848f60ff2866d5e98d\\n(7) 0x5da85775ca3cdf0048bff35e664a885ed2e02ff7\\n(8) 0x1acc13d7d69ac44a96c7ee60aeee13af6b001783\\n(9) 0x9c112d3a812b47909c2054a14fefbbb7a87fb721\\nPrivate Keys\\n==================\\n(0) 08f8aaea81590cea30e780666c8bdc6a3a17144130dcf20b07b55229b2d5996b\\n(1) b8ef92de39bcaf83eb7622ba62c2dd055f0d0c62053ab381aa5902fdd8698f91\\n(2) 8d0a626a420f68c6a1c99025fe4c17e02b8853feefd82a908bebdb994c589e31\\n(3) 7d6a122d935f9244b47919a24e218d9bb6d54eff63de5eb120405e3194bf7658\\n(4) 738d3ddcd659cc45ddf4044bc512ff841717af3cd0f27f77338bc759d6a9769d\\n(5) e9f82c125a8b9ca386b7cd59101ba4105a7c25d30727fdb937391798a01211ef\\n(6) 2c70bd342bf610cbc974b24ec6f11260cebd537cdde65d7922971a7d4858cc5b\\n(7) 8f27ce51b5b4784a75cddc2428861dc07c3dd4ceac81c2f32eb4d8f86ff51ca0\\n(8) 377ab95e5c5fbe97f8a298b4a108062b063e9ce5fa7e513691494f5458419f7a\\n(9) 4919c7b8934160a1ec197cf19474d326486d63ced25dfb65f0a692bdba3d2208\\nHD Wallet\\n==================\\nMnemonic:      attend frost dignity wheat shell field comic tooth include enter border theory\\nBase HD Path:  m/44'/60'/0'/0/{account_index}\\nGas Price\\n==================\\n20000000000\\nGas Limit\\n==================\\n6721975\\nListening on localhost:8545\\n```\\nThe above output shows ganache-cli has started and is listening on **localhost:8545**\\n\\n**Migrations**\\n\\nIn order to deploy to our local development environment, we’ll need to configure truffle:\\n\\nIf we take a look at the existing file **1_initial_migration.js**\\n```\\nvar Migrations = artifacts.require(\\\"./Migrations.sol\\\");\\n\\nmodule.exports = function(deployer) {\\n  deployer.deploy(Migrations);\\n};\\n```\\nThis will be the first step in the migration or deployment process. It tells truffle to first deploy the Migrations contract.\\n\\nMigrations contract record the history of previous run migrations/deployments on chain, this enables truffle to incrementally update deployments to a specified environment.\\n\\nYou can read more about [truffle migrations here] (https://truffleframework.com/docs/truffle/getting-started/running-migrations)\\n\\n**Configuring Truffle**\\n\\n1. First, we need to create a file in the **migrations** folder with the name **2_deploy_contracts.js**\\n\\nThe **2** indicates that this is the second step to be run in the migration process.\\n\\nCopy the following extract into the **2_deploy_contracts.js** file:\\n```\\nvar Bounties = artifacts.require(\\\"./Bounties.sol\\\");\\n\\nmodule.exports = function(deployer) {\\n  deployer.deploy(Bounties);\\n};\\n```\\n![](https://api.beta.kauri.io:443/ipfs/QmV88d8DHY1dt9gXi4rDdDHpokts3HixjfW695kisLQJUU)\\n\\n2. Update the **truffle.js** configuration file with the following extract:\\n```\\nmodule.exports = {\\n  networks: {\\n    development: {\\n      network_id: \\\"*\\\",\\n      host: 'localhost',\\n      port: 8545\\n    }\\n  }\\n};\\n```\\nThis tells truffle that the default development environment to deploy to is located at **host: localhost port: 8545** this is the address of our ganache-cli local development environment.\\n\\n![](https://api.beta.kauri.io:443/ipfs/QmQJthzhQYDNWRyahwkvqQc929ZpE9pXe94bvyiC6RUcKy)\\n\\nThat's it, Truffle is now configured to deploy to your local ganache-cli development environment.\\n\\n**Deploy**\\n\\nTo deploy simply run the **truffle migrate** command:\\n```\\n$ truffle migrate\\n\\nStarting migrations...\\n======================\\n> Network name:    'development'\\n> Network id:      1544483960336\\n> Block gas limit: 6721975\\n\\n\\n1_initial_migration.js\\n======================\\n\\n   Deploying 'Migrations'\\n   ----------------------\\n   > transaction hash:    0xe0b762d2bcd04328acb850a968ccddf9840d679069b9fb3afad8ff18baa12c57\\n   > Blocks: 0            Seconds: 0\\n   > contract address:    0x3e2823FCace78ffb5dbCA001541CD58F38837B10\\n   > account:             0xba342be2268F9eFd0415709d974957241E8EAE76\\n   > balance:             99.994334\\n   > gas used:            283300\\n   > gas price:           20 gwei\\n   > value sent:          0 ETH\\n   > total cost:          0.005666 ETH\\n\\n\\n   > Saving migration to chain.\\n   > Saving artifacts\\n   -------------------------------------\\n   > Total cost:            0.005666 ETH\\n\\n\\n2_deploy_contracts.js\\n=====================\\n\\n   Deploying 'Bounties'\\n   --------------------\\n   > transaction hash:    0xa3739a6d7e1609a1c48cbc805fb85553929574481c32206291e9b10d512f11ca\\n   > Blocks: 0            Seconds: 0\\n   > contract address:    0x2e9aC61B93149f62c88657eE84155b5AA6ba43cE\\n   > account:             0xba342be2268F9eFd0415709d974957241E8EAE76\\n   > balance:             99.9691916\\n   > gas used:            1215092\\n   > gas price:           20 gwei\\n   > value sent:          0 ETH\\n   > total cost:          0.02430184 ETH\\n\\n\\n   > Saving migration to chain.\\n   > Saving artifacts\\n   -------------------------------------\\n   > Total cost:          0.02430184 ETH\\n\\n\\nSummary\\n=======\\n> Total deployments:   2\\n> Final cost:          0.02996784 ETH\\n```\\nThe above output show the transactionHash of the deployment of the Bounties.sol contract as:\\n\\n**0xa3739a6d7e1609a1c48cbc805fb85553929574481c32206291e9b10d512f11ca**\\n\\nAlso the address of the Bounties smart contract as:\\n\\n**0x2e9aC61B93149f62c88657eE84155b5AA6ba43cE**\\n\\nWe can double check the transaction receipt via the truffle console\\n```\\n$ truffle console\\n\\ntruffle(development)> web3.eth.getTransactionReceipt(\\\"0x1cfa32323e31aa262ea61580cb544772a47b05c2b498544a1805d00eb530a27a\\\")web3.eth.getTransactionReceipt(\\\"0xa3739a6d7e1609a1c48cbc805fb85553929574481c32206291e9b10d512f11ca\\\")\\n{ transactionHash:\\n   '0xa3739a6d7e1609a1c48cbc805fb85553929574481c32206291e9b10d512f11ca',\\n  transactionIndex: 0,\\n  blockHash:\\n   '0x30e8b5e73fafb6a72ffe4feb0c8e1be76f339310dcb1a67c1a684e0219ea36d6',\\n  blockNumber: 3,\\n  gasUsed: 1215092,\\n  cumulativeGasUsed: 1215092,\\n  contractAddress: '0x2e9aC61B93149f62c88657eE84155b5AA6ba43cE',\\n  logs: [],\\n  status: true,\\n  logsBloom:\\n   '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' }\\n```\\n## Interacting With Our Contract\\n\\nWe can use the truffle console to interact with our deployed smart contract.\\n\\nLets attempt to issue a bounty. To do this we’ll need to set the `string _data` argument to some string “some requirements” and set the `uint64 _deadline` argument to a unix timestamp in the future e.g “1691452800” August 8th 2023.\\n```\\nBounties.deployed().then(function(instance) { instance.issueBounty(\\\"some requirements\\\",\\\"1691452800\\\", { value: 100000, gas: 3000000}).then(function(tx) { console.log(tx) }) });\\nundefined\\ntruffle(development)> { tx:\\n   '0x1d0178b09bda576fe5ff982cfffd9e8afef4c342c2508a37d3cc2a0ca852505a',\\n  receipt:\\n   { transactionHash:\\n      '0x1d0178b09bda576fe5ff982cfffd9e8afef4c342c2508a37d3cc2a0ca852505a',\\n     transactionIndex: 0,\\n     blockHash:\\n      '0xa6276bbd3598e7e1907960901b3475319288d90005031942dcc39947e8de71ce',\\n     blockNumber: 10,\\n     gasUsed: 118839,\\n     cumulativeGasUsed: 118839,\\n     contractAddress: null,\\n     logs: [ [Object] ],\\n     status: true,\\n     logsBloom:\\n      '0x00000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000040000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',\\n     rawLogs: [ [Object] ] },\\n  logs:\\n   [ { logIndex: 0,\\n       transactionIndex: 0,\\n       transactionHash:\\n        '0x1d0178b09bda576fe5ff982cfffd9e8afef4c342c2508a37d3cc2a0ca852505a',\\n       blockHash:\\n        '0xa6276bbd3598e7e1907960901b3475319288d90005031942dcc39947e8de71ce',\\n       blockNumber: 10,\\n       address: '0x2e9aC61B93149f62c88657eE84155b5AA6ba43cE',\\n       type: 'mined',\\n       id: 'log_6a11d837',\\n       event: 'BountyIssued',\\n       args: [Result] } ] }\\n```\\nIn the above extract we use the Bounties.deployed() method to return an instance of the latest deployed Bounties contract on the network.\\n```\\nBounties.deployed().then(function(instance) {});\\n```\\nWe can then call the issueBounty function on the retrieved instance.\\n```\\ninstance.issueBounty(\\\"some requirements\\\",\\\"1691452800\\\",{ from: web3.eth.accounts[0], value: web3.utils.toWei('1', \\\"ether\\\"), gas: 3000000 }).then(function(tx) { console.log(tx) });\\n```\\nWe can call the **bounties** function with bountyId of 0 to double check the issueBounty function stored our data correctly:\\n```\\nBounties.deployed().then(function(instance) { instance.bounties.call(0).then(function(result) { console.log(result) }) })\\nundefined\\ntruffle(development)> Result {\\n  '0': '0xba342be2268F9eFd0415709d974957241E8EAE76',\\n  '1':\\n   BN {\\n     negative: 0,\\n     words: [ 13731200, 25, <1 empty item> ],\\n     length: 2,\\n     red: null },\\n  '2': 'some requirements',\\n  '3':\\n   BN {\\n     negative: 0,\\n     words: [ 0, <1 empty item> ],\\n     length: 1,\\n     red: null },\\n  '4':\\n   BN {\\n     negative: 0,\\n     words: [ 100000, <1 empty item> ],\\n     length: 1,\\n     red: null },\\n  issuer: '0xba342be2268F9eFd0415709d974957241E8EAE76',\\n  deadline:\\n   BN {\\n     negative: 0,\\n     words: [ 13731200, 25, <1 empty item> ],\\n     length: 2,\\n     red: null },\\n  data: 'some requirements',\\n  status:\\n   BN {\\n     negative: 0,\\n     words: [ 0, <1 empty item> ],\\n     length: 1,\\n     red: null },\\n  amount:\\n   BN {\\n     negative: 0,\\n     words: [ 100000, <1 empty item> ],\\n     length: 1,\\n     red: null } }\\n```\\n\\n## Test Network: Rinkeby\\n\\nWe can also configure truffle to deploy to one of the public test Ethereum networks rather than a local development environment. Earlier in the series, we introduced the following public Ethereum test networks:\\n\\n* Rinkeby\\n* Kovan\\n* Ropsten\\n\\nThis part of the article will discuss deployment to the **Rinkeby** environment, however, the instructions can be used to deploy to either **Kovan** or **Ropsten** also.\\n\\n### Infura\\n\\nIn order to send transactions to a public network, you need access to a network node. Infura is a public hosted Ethereum node cluster, which provides access to its nodes via an API\\n\\n[https://infura.io](https://infura.io)\\n\\nIf you do not already have an Infura account, the first thing you need to do is [register for an account] (https://infura.io/register).\\n\\nOnce logged in, create a new project to generate an API key, this allows you to track the usage of each individual dApp you deploy.\\n\\n![](https://api.beta.kauri.io:443/ipfs/QmYMAmUQavX3Dkzj9CUWonGRzTj7JEZZbpfNtJNs9pDiL8)\\n\\nOnce your project is created, select the environment we will be deploying to, in this case **Rinkeby**, from the *Endpoint* drop down and copy the endpoint URL for future reference:\\n\\n![](https://api.beta.kauri.io:443/ipfs/QmdkpNG8CAJnFjRZcC616JY1CXDFoWMQiRREdyryRBkX6p)\\n\\nMake sure you save this token and keep it private!\\n\\nNote: In updated versions of Infura, Api Key is now called 'project ID' and Api Secret is called 'project secert'.\\n\\n**HDWallet Provider**\\n\\nInfura, for security reasons, does not manage your private keys.We need to add the Truffle HDWallet Provider so that Truffle can sign deployment transactions before sending them to an Infura node.\\n\\n[https://github.com/trufflesuite/truffle-hdwallet-provider](https://github.com/trufflesuite/truffle-hdwallet-provider)\\n\\nWe can install the HDWallet Priovider via npm\\n```\\nnpm install truffle-hdwallet-provider@web3-one --save\\n```\\nNote: You should install the wallet provider inside your project directory. \\n\\n**Generate Mnemonic**\\n\\nTo configure the HDWallet Provider we need to provide a mnemonic which generates the account to be used for deployment.\\n\\nIf you already have a mnemonic, feel free to skip this part.\\n\\nYou can generate a mnemonic using an [online mnemonic generator](https://iancoleman.io/bip39/).\\n\\n[https://iancoleman.io/bip39](https://iancoleman.io/bip39/)\\n\\nIn the BIP39 Mnemonic code form:\\n\\n1. Select “ETH — Ethereum” from the “Coin” drop down\\n2. Select a minimum of “12” words\\n3. Click the “Generate” button to generate the mnemonic\\n4. Copy and save the mnemonic located in the field “BIP39”, **remember to keep this private as it is the seed that can generate and derive the private keys to your ETH accounts**\\n\\n![](https://api.beta.kauri.io:443/ipfs/Qmc1DM8UoVLFaBaYb5Yo27kSgWhD52xgiGKune1NybZYNg)\\n\\n5. Scroll down the page to the *Derived Addresses* section and copy and save the *Address* this will be your Ethereum deployment account.\\n\\n**NOTE: Your private key will be displayed here, please keep this private.**\\n\\n![](https://api.beta.kauri.io:443/ipfs/Qmd7EKVWCuC7rRWGJeVf2RBtptSbjjgZ6Dmkqw8GQyEmd7)\\n\\nAbove the address we’ll be using is: **0x56fB94c8C667D7F612C0eC19616C39F3A50C3435**\\n\\n### Configure Truffle For Rinkeby\\n\\nNow we have all the pieces set up, we need to configure truffle to use the HDWallet Provider to deploy to the **Rinkeby** environment. To do this we will need to edit the `truffle.js` configuration file.\\n\\nFirst let's create a `secrets.json` file, this file will store your mnemonic and Infura API key so that it can be loaded by the hdwallet provider.\\n\\n**NOTE: Remember not to check this file into any public repository!**\\n\\n![](https://api.beta.kauri.io:443/ipfs/QmQ2dyEGmqJXV3epH8yrfqpDcNKYU8FzXYqHrFcq6vcE23)\\n\\nNext in the `truffle.js` configuration file add the following lines to define HDWalletProvider and load our mnemonic from our `secrets.json` file:\\n```\\nconst HDWalletProvider = require('truffle-hdwallet-provider');\\nconst fs = require('fs');\\nlet secrets;\\nif (fs.existsSync('secrets.json')) {\\n secrets = JSON.parse(fs.readFileSync('secrets.json', 'utf8'));\\n}\\n```\\nNext also in truffle.js we add a new network configuration so Truffle understands where to find the **Rinkeby** network.\\n```\\nrinkeby: {\\n      provider: new HDWalletProvider(secrets.mnemonic, 'https://rinkeby.infura.io/v3/'+secrets.infuraApiKey),\\n      network_id: '4'\\n}\\n```\\nHere we define a provider, which instantiates a HDWalletProvider for the **Rinkeby** network. The HDWalletProvider takes two arguments:\\n\\n1. **mnemonic:** The mnemonic required to derive the private key to the deployment account\\n2. **network endpoint:** The http endpoint of the required network\\n\\nWe also set the network ID of the environment, in this case we set it to 4 which is **Rinkeby**.\\n\\n![](https://api.beta.kauri.io:443/ipfs/Qmc99mzUYiTgAjdciqMvEK3VzZXW79dnUcBgHKYEgaMFct)\\n\\n### Fund Your Account\\n\\nWe’re almost ready to deploy! However we need to make sure we have enough funds in our account to complete the transaction. We can fund our **Rinkeby** test account using the [**Rinkeby** ETH faucet] (https://faucet.rinkeby.io/):\\n\\nTo request ETH from the faucet we need to complete the following steps:\\n\\n1. Post publicly our Ethereum deployment address from one of the following social network accounts: Twitter, Google+or Facebook, in this example we’ll be using Twitter\\n\\n2. Copy the link to the social media post\\n\\n![](https://api.beta.kauri.io:443/ipfs/QmNbxv36FC2VPufEiD5dT44QEem4f8oH6RvA3rXAUfwWiy)\\n\\n3. Paste the link into the [*Rinkeby* ETH faucet] (https://faucet.rinkeby.io/) and select the amount of ETH to be sent\\n\\n![](https://api.beta.kauri.io:443/ipfs/Qme6jfEALdVa9TeyN3dTp4toRqajhKszTHHgmoup3326QK)\\n\\n4. Check the Rinkeby etherscan for the status of the transaction\\n\\n [https://rinkeby.etherscan.io/address/<YOUR ETHEREUM DEPLOYMENT ADDRESS>] (https://rinkeby.etherscan.io/address/0x56fB94c8C667D7F612C0eC19616C39F3A50C3435)\\n\\n![](https://api.beta.kauri.io:443/ipfs/QmSXhyga6tHcjjwascZcuWknrVL12CGRyeFpmtaEmXmWj6)\\n\\n**Deploy**\\n\\nTo deploy simply run the `truffle migrate` command whilst specifying the network to deploy to. The networks are defined in the `truffle.js` configuration file we configured earlier in this article:\\n```\\n$ truffle migrate --network rinkeby\\n\\nStarting migrations...\\n======================\\n> Network name:    'rinkeby'\\n> Network id:      4\\n> Block gas limit: 7002047\\n\\n\\n1_initial_migration.js\\n======================\\n\\n   Deploying 'Migrations'\\n   ----------------------\\n   > transaction hash:    0x813f4fce67c5520a78f8ccac95f5f50ad2cbb8d0eaea40fdbf337191adcfa838\\n   > Blocks: 0            Seconds: 8\\n   > contract address:    0xC8419C85db7BE10AEf7FcDA7017968B6A0f92995\\n   > account:             0x56fB94c8C667D7F612C0eC19616C39F3A50C3435\\n   > balance:             18.436499104\\n   > gas used:            283300\\n   > gas price:           20 gwei\\n   > value sent:          0 ETH\\n   > total cost:          0.005666 ETH\\n\\n\\n   > Saving migration to chain.\\n   > Saving artifacts\\n   -------------------------------------\\n   > Total cost:            0.005666 ETH\\n\\n\\n2_deploy_contracts.js\\n=====================\\n\\n   Deploying 'Bounties'\\n   --------------------\\n   > transaction hash:    0xd1d82ac79006b6704d4f822e41f95d9561ffc2b249d6687dad8d9b84257c505a\\n   > Blocks: 2            Seconds: 28\\n   > contract address:    0x584EC00989488fBC3A10e4114B57C3246D557b48\\n   > account:             0x56fB94c8C667D7F612C0eC19616C39F3A50C3435\\n   > balance:             18.411356704\\n   > gas used:            1215092\\n   > gas price:           20 gwei\\n   > value sent:          0 ETH\\n   > total cost:          0.02430184 ETH\\n\\n\\n   > Saving migration to chain.\\n   > Saving artifacts\\n   -------------------------------------\\n   > Total cost:          0.02430184 ETH\\n\\n\\nSummary\\n=======\\n> Total deployments:   2\\n> Final cost:          0.02996784 ETH\\n```\\n\\nAnd that's it! We have now finally deployed our Bounties.sol contract to the public testnet environment Rinkeby.\\n\\nLater in the series, we’ll discuss how to write tests within the Truffle framework, and how we can also add a frontend to our dApp so users can interact with our smart contract on the public network!\\n\\n## Next Steps\\n- Read the next guide: [Truffle: Testing Your Smart Contract](https://kauri.io/article/f95f956261494090be1aaa8227464773/truffle:-testing-your-smart-contract)\\n- Learn more about the Truffle suite of tools from the [website](https://truffleframework.com/)\\n\\n>If you enjoyed this guide, or have any suggestions or questions, let me know in the comments. \\n\\n>If you have found any errors, feel free to update this guide by selecting the **'Update Article'** option in the right hand menu, and/or [update the code](https://github.com/kauri-io/kauri-fullstack-dapp-tutorial-series/tree/master/truffle-writing-tests)\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"}","author":"7b88584d0e6a608fa3a8716b0ca1620d61834a0c","timestamp":1556869722955,"attributes":{}}